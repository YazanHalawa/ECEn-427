/*
 * render.c
 *
 *  Created on: Sep 26, 2015
 *      Author: superman
 */
#include "render.h"
#include "globals.h"
#include "bitmaps.h"

static unsigned int old_position = 20;

void drawTank(unsigned int * framePointer0) {
	int row = 0;
	int col = 0;
	int current_position = getTankPositionGlobal();

	// First we need to erase the old tank
	for (row = 410; row <= 425; row++) {
		for (col = old_position; col < old_position + 30; col++) {
			framePointer0[row*640 + col] = BLACK;
		}
	}
	// Now draw the tank in its new position
	for (row = 410; row <= 425; row++) {
		for (col = current_position; col < current_position + 30; col++) {
			if ((tank_15x8[(row - 410)/2] & (1<<((col-current_position)/2))) == 0) {
				framePointer0[row*640 + col] = BLACK;
			} else {
				framePointer0[row*640 + col] = GREEN;
			}
		}
	}
	old_position = current_position;
}

void drawBunkers(unsigned int * framePointer0) {

}

void render(unsigned int * framePointer0) {
	drawTank(framePointer0);
	drawBunkers(framePointer0);
}
